(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{467:function(e,t,n){"use strict";var o=n(2),c=n(596);n(0);t.a=function(e){var t=e.isError,n=e.message,r=e.onClose;return Object(o.jsx)("div",{children:t&&Object(o.jsx)(c.a,{message:n,type:"error",closable:!0,onClose:r,style:{position:"absolute",zIndex:2e3,top:0,left:0,minWidth:"150px",maxWidth:"500px",width:"100%"}})})}},594:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n(146),r=n(11),i=n(76),s=n(271),a=n(464),d=n(465),u=n(112),l=n(431),j=n(467),b=n(0),f=n(38),p=n(149),O=function(e){return e.pockemons.pockemons},m=function(e){return e.pockemons.loading},x=function(e){return e.pockemons.showMessage},h=function(e){return e.pockemons.message},v=n(521),y=n.n(v),g=n.p+"static/media/Field.c5de4dce.jpg",k=function(e){var t=e.selectedPockemons,n=e.setPosition,c={backgroundImage:"url(".concat(g,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% auto ",width:"900px",height:"672px"},r={position:"absolute",top:0,left:0,cursor:"move",width:"100px",height:"100px",overflow:"hidden"},i={width:"100px",height:"100px",pointerEvents:"none"};return Object(o.jsx)("div",{style:c,children:t.map((function(e,t){return Object(o.jsx)(y.a,{bounds:"parent",onStop:function(t,o){return function(e,t){var o=e.id;n(o,{x:t.x,y:t.y})}(e,o)},defaultPosition:e.coords?e.coords:{x:0,y:0},children:Object(o.jsx)("div",{id:e.id,style:r,children:Object(o.jsx)("img",{src:e.img,alt:e.name,style:i})})},"".concat(e.id)+t)}))})},w=n(526),C=n.n(w),P=n(613),z=n(101),E=function(e){var t=e.pockemons,n=e.addPockemonHandler,c=e.deletePockemonHandler,r={cursor:"auto"},i={cursor:"pointer"};return Object(o.jsx)("div",{children:Object(o.jsx)(P.b,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return Object(o.jsxs)(P.b.Item,{actions:[],onClick:function(){return n(e)},style:e.coords?r:i,children:[Object(o.jsx)(P.b.Item.Meta,{avatar:Object(o.jsx)(C.a,{shape:"square",size:50,src:e.img,alt:e.name}),title:e.name,description:e.coords?"x:".concat(e.coords.x," y:").concat(e.coords.y):"\u0412\u044b\u0431\u0435\u0440\u0438 \u043c\u0435\u043d\u044f"}),e.coords?Object(o.jsx)(u.a,{onClick:function(t){t.stopPropagation(),c(e)},type:"primary",size:"small",icon:Object(o.jsx)(z.a,{})}):null]})}})})};t.default=function(){var e=Object(f.c)(),t=Object(f.d)(O),n=Object(f.d)(m),v=Object(f.d)(x),y=Object(f.d)(h),g=Object(b.useState)([]),w=Object(i.a)(g,2),C=w[0],P=w[1];Object(b.useEffect)((function(){e(Object(p.c)())}),[e]);var z=function(n){P([]),n.forEach((function(n){var o=n.id,i=n.coords;if(i){var s=t.find((function(e){return+e.id===+o})),a=Object(r.a)(Object(r.a)({},s),{},{coords:i});e(Object(p.a)(a)),P((function(e){return[].concat(Object(c.a)(e),[a])}))}}))};return Object(o.jsxs)("div",{children:[Object(o.jsx)(j.a,{isError:v,message:y,onClose:function(){e(Object(p.b)())}}),Object(o.jsx)(s.a,{size:"large",spinning:n,children:Object(o.jsxs)(a.a,{children:[Object(o.jsxs)(d.a,{span:6,children:[Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(o.jsx)(u.a,{type:"primary",onClick:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",n=JSON.stringify(e),o=new Blob([n],{type:"text/txt"}),c=window.URL.createObjectURL(o),r=document.createElement("a");r.href=c,r.setAttribute("download","".concat(t,".txt")),r.click()}(t.map((function(e){return{id:e.id,coords:e.coords}})).filter((function(e){return e.coords})),"coordinates")},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(o.jsx)("label",{htmlFor:"uploadCoords",className:"ant-btn ant-btn-primary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(o.jsx)(l.a,{style:{display:"none"},name:"uploadCoords",id:"uploadCoords",type:"file",onChange:function(e){!function(e,t){var n=new FileReader;n.readAsText(e),n.onload=function(){var e=JSON.parse(n.result);t(e)},n.onerror=function(){console.log(n.error)}}(e.target.files[0],z)}})]}),Object(o.jsx)(E,{pockemons:t,addPockemonHandler:function(t){if(null===t.coords){var n=Object(r.a)(Object(r.a)({},t),{},{coords:{x:0,y:0}});e(Object(p.a)(n)),P((function(e){return[].concat(Object(c.a)(e),[t])}))}},deletePockemonHandler:function(t){if(null!==t.coords){var n=Object(r.a)(Object(r.a)({},t),{},{coords:null});e(Object(p.a)(n)),P((function(e){return e.filter((function(e){return e.id!==t.id}))}))}}})]}),Object(o.jsx)(d.a,{span:18,children:Object(o.jsx)(k,{selectedPockemons:C,setPosition:function(n,o){P((function(e){return e.map((function(e){return e.id===n?Object(r.a)(Object(r.a)({},e),{},{coords:o}):e}))}));var c=t.find((function(e){return+e.id===+n})),i=Object(r.a)(Object(r.a)({},c),{},{coords:o});e(Object(p.a)(i))}})})]})})]})}}}]);
//# sourceMappingURL=15.1f781c0a.chunk.js.map